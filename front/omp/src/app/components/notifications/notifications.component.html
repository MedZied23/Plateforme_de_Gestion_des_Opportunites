<div class="notifications-page">
  <div class="page-header">
    <h1>Notifications</h1>
    <button 
      class="mark-all-read-btn" 
      (click)="markAllAsRead()"
      [disabled]="!notifications.some(n => !n.read)"
    >
      <i class="material-icons">done_all</i>
      Tout marquer comme lu
    </button>
  </div>

  <!-- Loading state -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Chargement des notifications...</p>
  </div>

  <!-- Notifications list -->
  <div *ngIf="!isLoading && notifications.length > 0" class="notifications-container">
    <div 
      *ngFor="let notification of notifications; trackBy: trackByNotificationId" 
      class="notification-card"
      [class.unread]="!notification.read"
      (click)="onNotificationClick(notification)"
    >
      <div class="notification-indicator" [class.unread]="!notification.read"></div>
      <div class="notification-content">
        <div class="notification-header">
          <h3 class="notification-title">{{ notification.title }}</h3>
          <span class="notification-time">{{ getTimeSince(notification.dateSent) }}</span>
        </div>
        <p class="notification-body">{{ notification.body }}</p>
      </div>
    </div>
  </div>

  <!-- Empty state -->
  <div *ngIf="!isLoading && notifications.length === 0" class="empty-state">
    <i class="material-icons">notifications_none</i>
    <h2>Aucune notification</h2>
    <p>Vous n'avez aucune notification pour le moment.</p>
  </div>
</div>